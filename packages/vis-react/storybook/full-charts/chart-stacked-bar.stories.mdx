import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs';
import { TextAlign } from '@volterra/vis'
import { VisXYContainer } from '@volterra/vis-react/containers/xy-container'
import { VisStackedBar } from '@volterra/vis-react/components/stacked-bar'
import { VisAxis } from '@volterra/vis-react/components/axis'
import { VisCrosshair } from '@volterra/vis-react/components/crosshair'
import { VisTooltip } from '@volterra/vis-react/components/tooltip'
import { DataRecord, generateDataRecords } from '../data/time-series'
const data = generateDataRecords(15)

<Meta title="Full Charts / Stacked Bar Chart ✍️" component={VisXYContainer} />

###### ✍️ This story is Work in Progress

# XY Container + Stacked Bar + Tooltip + Crosshair

<Canvas>
  <Story name="Stacked Bar Chart">
    <VisXYContainer data={data} margin={{ top: 5, left: 5 }}>
      <VisStackedBar
        x={d => d.x}
        y={[d => d.y, d => d.y1, d => d.y2]}
        events={{
          [VisStackedBar.selectors.bar]: {
            click: d => console.log('clicked', d),
            mouseover: d => console.log('hovered', d),
          },
        }}
      />
      <VisAxis type='x' numTicks={5} tickFormat={(x) => `${x}ms`} tickTextAlign={TextAlign.Left}/>
      <VisAxis type='y' tickFormat={(y) => `${y}bps`}/>
      <VisTooltip />
      <VisCrosshair template={d => `${d.x}, ${d.y.toFixed(2)}`}/>
    </VisXYContainer>
  </Story>
</Canvas>

### Component Props
<ArgsTable of={VisXYContainer} />

