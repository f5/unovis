import { moduleMetadata, componentWrapperDecorator } from '@storybook/angular'
import { Meta, Story, ArgsTable } from '@storybook/addon-docs';
import { VisXYContainerModule, VisAxisModule, VisStackedBarModule } from 'src/public-api'

import { VisStackedBarComponent } from 'src/components/stacked-bar/stacked-bar.component'

import { xyChartContentWrapper } from '../../utils/content-wrappers'
import { baseConfig, getColor, minBarHeightExampleData } from './xy-area-chart.config'

<Meta
  title="XY Charts/Stacked Bar"
  component={VisStackedBarComponent}
  decorators={[
    moduleMetadata({ imports: [VisStackedBarModule, VisXYContainerModule, VisAxisModule] }),
    componentWrapperDecorator(xyChartContentWrapper)
  ]}
/>

<style>{``}</style>

# Stacked Bar
### Basic configuration
The Stacked Bar component has been designed to work together with `<vis-xy-container>`. The minimal Stacked Bar configuration looks like:
```angular2html
<vis-xy-container [data]="dataArray">
  <vis-stacked-bar [x]="xAccessor" [y]="yAccessor"></vis-stacked-bar>
</vis-xy-container>
```
where `data: DataRecord[] = [{x: 0, y: 1}, ...]`, `xAccessor = (d: DataRecord) => d.x` and `yAccessor = (d: DataRecord) => d.y`.

<Story name="Simple Area">
  {{
    props: {
      ...baseConfig(),
      storyHideAxes: true,
      storyHeight: 150,
    },
  }}
</Story>

<Story name="Limiting Maximum Bar Width">
  {{
    props: {
      ...baseConfig(),
      storyHideAxes: true,
      storyHeight: 150,
      barMaxWidth: 10,
    },
  }}
</Story>

<Story name="Limiting Minimum Bar Height">
  {{
    props: {
      ...baseConfig(),
      data: minBarHeightExampleData,
      storyHideAxes: true,
      storyHeight: 150,
      barMinHeight: true,
    },
  }}
</Story>

<Story name="Bar Width">
  {{
    props: {
      ...baseConfig(),
      storyHideAxes: true,
      storyHeight: 150,
      barWidth: 150,
    },
  }}
</Story>


### Component Inputs

<ArgsTable of={VisStackedBarComponent} />
